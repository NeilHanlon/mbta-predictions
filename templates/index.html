{% extends "bootstrap/base.html" %}
{% import "bootstrap/wtf.html" as wtf %}
{% import "bootstrap/fixes.html" as fixes %}

{% block content %}
<style>
.container-fluid, body, html{
	background: #1e1e1e;
	color: #e1e1e1;
}
.data{
	padding: 1em;
	background: #4a4a4a;
}
.data:nth-child(odd){
	background: #5c5c5c;
}
.header{
	padding: 1em;
	background: #1c1c1c;
	font-weight:bold;
	border-bottom: 1px solid #888;
}
.ten-minute{
	color: #6db80a;
	font-weight: bold;
}
.five-minute{
	color: purple;
	font-weight:bold;
}
.one-minute { 
	color: #ff4747;
	font-weight:bold;
}
</style>
<div class="container-fluid">
  <h1>Hello, world!</h1>
		<div class="row header">
			<div class=col-xs-3>Stop Name</div>
			<div class=col-xs-1>Stop ID</div>
			<div class=col-xs-8>
				<div class=row>
					<div class=col-xs-4>Bus Number</div>
					<div class=col-xs-6>Route Name</div>
					<div class=col-xs-2>Time</div>
				</div>
			</div>
		</div>
		{%for stops in data:%}
		 <div class="row data">
            <div class=col-xs-3>{{stops.stopTitle}}</div>
			<div class=col-xs-1>{{stops.stopId}}</div>
            <div class=col-xs-8>
				{%for bus in stops.busses%}
                	<div class=row>
                   		<div class=col-xs-4>{{bus["busNumber"]}}</div>
                   		<div class=col-xs-6>{{bus.route}}</div>
                    	{%if bus.seconds > 3600%}
							<div class="col-xs-2">{{format_time(bus.seconds / 3600)}} hours</div>
						{%elif bus.seconds < 3600 and bus.seconds > 600%}
							<div class="col-xs-2">{{format_time(bus.seconds / 60)}} minutes</div>
						{%elif bus.seconds <= 600 and bus.seconds > 300%}
							<div class="col-xs-2 ten-minute">{{format_time(bus.seconds / 60)}} minutes</div>
						{%elif bus.seconds <= 300 and bus.seconds > 60%}
							<div class="col-xs-2 five-minute">{{format_time(bus.seconds / 60)}} minutes</div>
						{%elif bus.seconds <= 60%}
							<div class="col-xs-2 one-minute">{{format_time(bus.seconds)}} seconds</div>
						{%endif%}
							
                	</div>
				{%endfor%}
            </div>
        </div>
		{%endfor%}	
	</div>
{% endblock %}

{% block head %}
{{super()}}
{{fixes.ie8()}}
<meta name="viewport" content="width=device-width, initial-scale=1.0">
{% endblock %}
